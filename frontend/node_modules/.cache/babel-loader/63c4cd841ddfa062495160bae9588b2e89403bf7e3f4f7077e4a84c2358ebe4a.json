{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectAllPublications } from \"../../../entities/publication/model/selectors\";\nimport { useEffect, useMemo } from \"react\";\nimport { getAllPublications, importPublication } from \"../../../shared/api/communityApi\";\nimport { setPublications } from \"../../../entities/publication/model/slice\";\nexport function useSocietySection() {\n  _s();\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user);\n  const publications = useSelector(selectAllPublications);\n  const userPublications = useMemo(() => {\n    // @ts-ignore\n    return publications.filter(pub => user.user.id === pub.authorUserId);\n  }, [publications]);\n  function onDownload(id) {\n    console.log(id);\n    importPublication(id);\n  }\n  useEffect(() => {\n    console.log(publications);\n  }, [publications]);\n  useEffect(() => {\n    getAllPublications().then(data => {\n      dispatch(setPublications(data));\n    });\n  }, []);\n  return {\n    publications,\n    userPublications,\n    onDownload\n  };\n}\n_s(useSocietySection, \"+8qgvo5HISBxihbtytvV99aiHZk=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});","map":{"version":3,"names":["useDispatch","useSelector","selectAllPublications","useEffect","useMemo","getAllPublications","importPublication","setPublications","useSocietySection","_s","dispatch","user","state","publications","userPublications","filter","pub","id","authorUserId","onDownload","console","log","then","data"],"sources":["D:/base/GitHub/MemoryCard/frontend/src/widgets/societySection/model/useSocietySection.ts"],"sourcesContent":["import {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectAllPublications} from \"../../../entities/publication/model/selectors\";\r\nimport {useEffect, useMemo} from \"react\";\r\nimport {createPublication, getAllPublications, importPublication} from \"../../../shared/api/communityApi\";\r\nimport {setPublications} from \"../../../entities/publication/model/slice\";\r\nimport {RootState} from \"../../../app/store\";\r\nimport {addGroups, setGroups} from \"../../../entities/group/model/slice\";\r\n\r\nexport function useSocietySection() {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state: RootState) => state.user);\r\n    const publications = useSelector(selectAllPublications);\r\n\r\n    const userPublications = useMemo(() => {\r\n        // @ts-ignore\r\n        return publications.filter(pub => user.user.id === pub.authorUserId);\r\n    }, [publications]);\r\n\r\n    function onDownload(id: number) {\r\n        console.log(id)\r\n        importPublication(id)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(publications)\r\n    }, [publications]);\r\n\r\n    useEffect(() => {\r\n        getAllPublications().then(data => {\r\n            dispatch(setPublications(data))\r\n        })\r\n    }, [])\r\n    return {\r\n        publications,\r\n        userPublications,\r\n        onDownload,\r\n    }\r\n}"],"mappings":";AAAA,SAAQA,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,SAAQC,qBAAqB,QAAO,+CAA+C;AACnF,SAAQC,SAAS,EAAEC,OAAO,QAAO,OAAO;AACxC,SAA2BC,kBAAkB,EAAEC,iBAAiB,QAAO,kCAAkC;AACzG,SAAQC,eAAe,QAAO,2CAA2C;AAIzE,OAAO,SAASC,iBAAiBA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAMW,IAAI,GAAGV,WAAW,CAAEW,KAAgB,IAAKA,KAAK,CAACD,IAAI,CAAC;EAC1D,MAAME,YAAY,GAAGZ,WAAW,CAACC,qBAAqB,CAAC;EAEvD,MAAMY,gBAAgB,GAAGV,OAAO,CAAC,MAAM;IACnC;IACA,OAAOS,YAAY,CAACE,MAAM,CAACC,GAAG,IAAIL,IAAI,CAACA,IAAI,CAACM,EAAE,KAAKD,GAAG,CAACE,YAAY,CAAC;EACxE,CAAC,EAAE,CAACL,YAAY,CAAC,CAAC;EAElB,SAASM,UAAUA,CAACF,EAAU,EAAE;IAC5BG,OAAO,CAACC,GAAG,CAACJ,EAAE,CAAC;IACfX,iBAAiB,CAACW,EAAE,CAAC;EACzB;EAEAd,SAAS,CAAC,MAAM;IACZiB,OAAO,CAACC,GAAG,CAACR,YAAY,CAAC;EAC7B,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElBV,SAAS,CAAC,MAAM;IACZE,kBAAkB,CAAC,CAAC,CAACiB,IAAI,CAACC,IAAI,IAAI;MAC9Bb,QAAQ,CAACH,eAAe,CAACgB,IAAI,CAAC,CAAC;IACnC,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IACHV,YAAY;IACZC,gBAAgB;IAChBK;EACJ,CAAC;AACL;AAACV,EAAA,CA7BeD,iBAAiB;EAAA,QACZR,WAAW,EACfC,WAAW,EACHA,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}