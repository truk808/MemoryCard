{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { login, registration } from \"../../../shared/api\";\nimport { setAuth } from \"../../../entities/user\";\nimport { MAIN_ROUTES } from \"../../../shared/routes/const\";\nimport { useNavigate } from \"react-router-dom\";\n// import { login, registration } from '@/shared/api/auth'\n// import { setUser } from '@/entities/user'\n\nexport const useAuth = isLogin => {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [nickname, setNickname] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const click = async () => {\n    try {\n      if (isLogin) {\n        const response = await login(email, password);\n      } else {\n        const response = await registration(email, password, nickname);\n      }\n      dispatch(setAuth(true));\n      navigate(MAIN_ROUTES, {\n        replace: true\n      });\n      window.location.href = window.location.href;\n      // window.location.replace(MAIN_ROUTES)\n    } catch (e) {\n      alert(e);\n    }\n  };\n  return {\n    email,\n    password,\n    nickname,\n    setEmail,\n    setPassword,\n    setNickname,\n    loading,\n    error,\n    click\n  };\n};\n_s(useAuth, \"pweVJ4OSr9Hku49uOoKc3gGfEoM=\", false, function () {\n  return [useDispatch, useNavigate];\n});","map":{"version":3,"names":["useState","useDispatch","login","registration","setAuth","MAIN_ROUTES","useNavigate","useAuth","isLogin","_s","dispatch","navigate","email","setEmail","password","setPassword","nickname","setNickname","loading","setLoading","error","setError","click","response","replace","window","location","href","e","alert"],"sources":["D:/base/GitHub/MemoryCard/frontend/src/features/auth/model/useAuth.ts"],"sourcesContent":["import {useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {AppDispatch, RootState} from \"../../../app/store\";\r\nimport {login, registration} from \"../../../shared/api\";\r\nimport {setAuth} from \"../../../entities/user\";\r\nimport {MAIN_ROUTES} from \"../../../shared/routes/const\";\r\nimport {replace, useNavigate} from \"react-router-dom\";\r\n// import { login, registration } from '@/shared/api/auth'\r\n// import { setUser } from '@/entities/user'\r\n\r\nexport const useAuth = (isLogin: boolean) => {\r\n    const dispatch = useDispatch<AppDispatch>()\r\n    const navigate = useNavigate()\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [nickname, setNickname] = useState('')\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState<string | null>(null)\r\n\r\n    const click = async () => {\r\n        try {\r\n            if (isLogin) {\r\n                const response = await login(email, password)\r\n            } else {\r\n                const response = await registration(email, password, nickname)\r\n            }\r\n            dispatch(setAuth(true))\r\n            navigate(MAIN_ROUTES, {replace: true})\r\n            window.location.href = window.location.href;\r\n            // window.location.replace(MAIN_ROUTES)\r\n        } catch (e) {\r\n            alert(e)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return {\r\n        email,\r\n        password,\r\n        nickname,\r\n        setEmail,\r\n        setPassword,\r\n        setNickname,\r\n        loading,\r\n        error,\r\n        click,\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAAQA,QAAQ,QAAO,OAAO;AAC9B,SAAQC,WAAW,QAAO,aAAa;AAEvC,SAAQC,KAAK,EAAEC,YAAY,QAAO,qBAAqB;AACvD,SAAQC,OAAO,QAAO,wBAAwB;AAC9C,SAAQC,WAAW,QAAO,8BAA8B;AACxD,SAAiBC,WAAW,QAAO,kBAAkB;AACrD;AACA;;AAEA,OAAO,MAAMC,OAAO,GAAIC,OAAgB,IAAK;EAAAC,EAAA;EACzC,MAAMC,QAAQ,GAAGT,WAAW,CAAc,CAAC;EAC3C,MAAMU,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAMsB,KAAK,GAAG,MAAAA,CAAA,KAAY;IACtB,IAAI;MACA,IAAId,OAAO,EAAE;QACT,MAAMe,QAAQ,GAAG,MAAMrB,KAAK,CAACU,KAAK,EAAEE,QAAQ,CAAC;MACjD,CAAC,MAAM;QACH,MAAMS,QAAQ,GAAG,MAAMpB,YAAY,CAACS,KAAK,EAAEE,QAAQ,EAAEE,QAAQ,CAAC;MAClE;MACAN,QAAQ,CAACN,OAAO,CAAC,IAAI,CAAC,CAAC;MACvBO,QAAQ,CAACN,WAAW,EAAE;QAACmB,OAAO,EAAE;MAAI,CAAC,CAAC;MACtCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGF,MAAM,CAACC,QAAQ,CAACC,IAAI;MAC3C;IACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRC,KAAK,CAACD,CAAC,CAAC;IACZ;EAEJ,CAAC;EAGD,OAAO;IACHhB,KAAK;IACLE,QAAQ;IACRE,QAAQ;IACRH,QAAQ;IACRE,WAAW;IACXE,WAAW;IACXC,OAAO;IACPE,KAAK;IACLE;EACJ,CAAC;AACL,CAAC;AAAAb,EAAA,CAvCYF,OAAO;EAAA,QACCN,WAAW,EACXK,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}