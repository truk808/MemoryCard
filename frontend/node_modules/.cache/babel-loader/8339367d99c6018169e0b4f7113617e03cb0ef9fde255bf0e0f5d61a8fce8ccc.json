{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeTag, saveTag } from \"./services\";\nimport { selectAllTags } from \"../../../entities/tag\";\nimport { useItemForm } from \"../../../shared/hooks\";\nconst initCardForm = {\n  name: ''\n};\nexport const useTagManager = ({\n  isOpen = false,\n  closeModal,\n  mode,\n  item\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  // const userId = useSelector((state: RootState) => state.user.user?.id);\n  const tags = useSelector(selectAllTags);\n  const isEditTag = mode === 'edit';\n  const {\n    form,\n    handleChange,\n    resetForm\n  } = useItemForm(initCardForm && item ? item : initCardForm);\n  function onDelete(tag) {\n    removeTag(dispatch, tag.id);\n  }\n  ;\n  function onSubmit() {\n    saveTag(dispatch, form, mode, item);\n    resetForm();\n  }\n  return {\n    isEditTag,\n    onSubmit,\n    handleChange,\n    form,\n    tags,\n    onDelete\n  };\n};\n_s(useTagManager, \"qIpBRPZXsBxGc1Ook+55FDsGpWg=\", false, function () {\n  return [useDispatch, useSelector, useItemForm];\n});","map":{"version":3,"names":["useDispatch","useSelector","removeTag","saveTag","selectAllTags","useItemForm","initCardForm","name","useTagManager","isOpen","closeModal","mode","item","_s","dispatch","tags","isEditTag","form","handleChange","resetForm","onDelete","tag","id","onSubmit"],"sources":["D:/base/GitHub/MemoryCard/frontend/src/features/tagManager/model/useTagManager.ts"],"sourcesContent":["import {useDispatch, useSelector} from \"react-redux\";\r\nimport {removeTag, saveTag} from \"./services\";\r\nimport {selectAllTags, Tag} from \"../../../entities/tag\";\r\nimport {BaseManagerProps} from \"../../../shared/types\";\r\nimport {useItemForm} from \"../../../shared/hooks\";\r\n\r\nexport type TagForm = Partial<Pick<Tag, 'id' | 'name'>> & {\r\n    name: string;\r\n}\r\n\r\nconst initCardForm = {\r\n    name: '',\r\n}\r\n\r\nexport const useTagManager = ({\r\n                                  isOpen = false,\r\n                                  closeModal,\r\n                                  mode,\r\n                                  item\r\n                              }: BaseManagerProps<TagForm>) => {\r\n    const dispatch = useDispatch();\r\n    // const userId = useSelector((state: RootState) => state.user.user?.id);\r\n    const tags = useSelector(selectAllTags);\r\n    const isEditTag = mode === 'edit';\r\n\r\n    const {form, handleChange, resetForm} = useItemForm<TagForm>(\r\n        initCardForm && item ? item : initCardForm\r\n    );\r\n\r\n    function onDelete(tag: Tag) {\r\n        removeTag(dispatch, tag.id)\r\n    };\r\n\r\n    function onSubmit() {\r\n        saveTag(dispatch, form, mode, item);\r\n        resetForm();\r\n    }\r\n\r\n    return {\r\n        isEditTag,\r\n        onSubmit,\r\n        handleChange,\r\n        form,\r\n        tags,\r\n        onDelete,\r\n    }\r\n};\r\n"],"mappings":";AAAA,SAAQA,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,SAAQC,SAAS,EAAEC,OAAO,QAAO,YAAY;AAC7C,SAAQC,aAAa,QAAY,uBAAuB;AAExD,SAAQC,WAAW,QAAO,uBAAuB;AAMjD,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAAC;EACIC,MAAM,GAAG,KAAK;EACdC,UAAU;EACVC,IAAI;EACJC;AACuB,CAAC,KAAK;EAAAC,EAAA;EAC3D,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B;EACA,MAAMe,IAAI,GAAGd,WAAW,CAACG,aAAa,CAAC;EACvC,MAAMY,SAAS,GAAGL,IAAI,KAAK,MAAM;EAEjC,MAAM;IAACM,IAAI;IAAEC,YAAY;IAAEC;EAAS,CAAC,GAAGd,WAAW,CAC/CC,YAAY,IAAIM,IAAI,GAAGA,IAAI,GAAGN,YAClC,CAAC;EAED,SAASc,QAAQA,CAACC,GAAQ,EAAE;IACxBnB,SAAS,CAACY,QAAQ,EAAEO,GAAG,CAACC,EAAE,CAAC;EAC/B;EAAC;EAED,SAASC,QAAQA,CAAA,EAAG;IAChBpB,OAAO,CAACW,QAAQ,EAAEG,IAAI,EAAEN,IAAI,EAAEC,IAAI,CAAC;IACnCO,SAAS,CAAC,CAAC;EACf;EAEA,OAAO;IACHH,SAAS;IACTO,QAAQ;IACRL,YAAY;IACZD,IAAI;IACJF,IAAI;IACJK;EACJ,CAAC;AACL,CAAC;AAACP,EAAA,CAhCWL,aAAa;EAAA,QAMLR,WAAW,EAEfC,WAAW,EAGgBI,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}