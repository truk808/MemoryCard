{"ast":null,"code":"import { $host, $authHost } from \"./axios\";\nimport { jwtDecode } from 'jwt-decode';\nexport async function registration(email, password, nickname) {\n  const {\n    data\n  } = await $host.post('/api/user/registration', {\n    email,\n    password,\n    nickname,\n    role: 'ADMIN'\n  });\n  localStorage.setItem(\"token\", data.token);\n  return jwtDecode(data.token);\n}\nexport async function login(email, password) {\n  const {\n    data\n  } = await $host.post('/api/user/login', {\n    email,\n    password\n  });\n  console.log(data);\n  localStorage.setItem(\"token\", data.token);\n  return jwtDecode(data.token);\n}\nexport async function check() {\n  const {\n    data\n  } = await $authHost.get('/api/user/auth');\n  localStorage.setItem(\"token\", data.token);\n  return jwtDecode(data.token);\n}","map":{"version":3,"names":["$host","$authHost","jwtDecode","registration","email","password","nickname","data","post","role","localStorage","setItem","token","login","console","log","check","get"],"sources":["D:/base/GitHub/MemoryCard/frontend/src/shared/api/userApi.ts"],"sourcesContent":["import {$host, $authHost} from \"./axios\"\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nexport async function registration(email: string, password: string, nickname: string) {\r\n    const {data} = await $host.post(\r\n        '/api/user/registration',\r\n        {email, password, nickname,  role: 'ADMIN'}\r\n    )\r\n    localStorage.setItem(\"token\", data.token)\r\n    return jwtDecode(data.token);\r\n}\r\n\r\nexport async function login(email: string, password: string) {\r\n    const {data} = await $host.post(\r\n        '/api/user/login',\r\n        {email, password}\r\n    )\r\n    console.log(data)\r\n    localStorage.setItem(\"token\", data.token)\r\n    return jwtDecode(data.token);\r\n}\r\n\r\nexport async function check() {\r\n    const {data} = await $authHost.get(\r\n        '/api/user/auth',\r\n    )\r\n    localStorage.setItem(\"token\", data.token)\r\n    return jwtDecode(data.token);\r\n}"],"mappings":"AAAA,SAAQA,KAAK,EAAEC,SAAS,QAAO,SAAS;AACxC,SAASC,SAAS,QAAQ,YAAY;AAEtC,OAAO,eAAeC,YAAYA,CAACC,KAAa,EAAEC,QAAgB,EAAEC,QAAgB,EAAE;EAClF,MAAM;IAACC;EAAI,CAAC,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAC3B,wBAAwB,EACxB;IAACJ,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAGG,IAAI,EAAE;EAAO,CAC9C,CAAC;EACDC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,KAAK,CAAC;EACzC,OAAOV,SAAS,CAACK,IAAI,CAACK,KAAK,CAAC;AAChC;AAEA,OAAO,eAAeC,KAAKA,CAACT,KAAa,EAAEC,QAAgB,EAAE;EACzD,MAAM;IAACE;EAAI,CAAC,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAC3B,iBAAiB,EACjB;IAACJ,KAAK;IAAEC;EAAQ,CACpB,CAAC;EACDS,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC;EACjBG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,KAAK,CAAC;EACzC,OAAOV,SAAS,CAACK,IAAI,CAACK,KAAK,CAAC;AAChC;AAEA,OAAO,eAAeI,KAAKA,CAAA,EAAG;EAC1B,MAAM;IAACT;EAAI,CAAC,GAAG,MAAMN,SAAS,CAACgB,GAAG,CAC9B,gBACJ,CAAC;EACDP,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,KAAK,CAAC;EACzC,OAAOV,SAAS,CAACK,IAAI,CAACK,KAAK,CAAC;AAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}